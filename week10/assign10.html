<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&family=Lobster&family=Roboto&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="./css/main.css">
  <title>Darrin Fry Week 10 Directory Listing</title>
  <meta name="description" content="CS213 Directory Listing">
  
  <style>
    table {
      border-collapse: collapse;
      width: 100%;
    }
    th, td {
      text-align: left;
      padding: 8px;
    }
    tr:nth-child(even) {
      background-color: lightblue;
    }
    tr:nth-child(odd) {
      background-color: silver;
    }

    #ouput a {
      background-color: white;
      
    }
  </style>

  <script>
    function ajaxRequest() {
      let xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          let displayObject = JSON.parse(this.responseText);
          let table = document.createElement("table");
          let tr = table.insertRow(-1);
          let col = ['Filename', 'Type', 'CWD', 'Action'];
          for (let i = 0; i < col.length; i++) {
              let th = document.createElement("th");
              th.innerHTML = col[i];
              tr.appendChild(th);
          }
          for (var i = 0; i < displayObject.length; i++) {
            tr = table.insertRow(-1);
            let Filename = tr.insertCell(-1);
            Filename.innerHTML = displayObject[i].fileName;
            let Type = tr.insertCell(-1);
            Type.innerHTML = displayObject[i].fileType;
            let CWD = tr.insertCell(-1);
            CWD.innerHTML = displayObject[i].cwd;
            let Action = tr.insertCell(-1);
            let temp = displayObject[i].fileName;
            Action.innerHTML = '<a href="' + temp + '" target="_blank">' + 'CLICK HERE:</a>';
          }
          let ouput = document.getElementById("ouput");
          ouput.appendChild(table);
        }; 
      }
      xhttp.open("GET", "assign10.php", true);
      xhttp.send();
    };
</script>
</head>

<body class="body-group" onload="ajaxRequest()">
  <header class="header-group">
    <div>
      <div class="heading">
        <h1>Week 10 Directory Listing</h1>
      </div>
      <nav>
        <ul class="navigation">
          <li><a class="ham" href="#">&#9776; Menu</a></li>
          <li><a class="index" href="../index.html">CS213 Assignments</a></li>

        </ul>
      </nav>
    </div>
  </header>

  <div class="hero-image"></div>

  <h2 style="width: 50%; padding:30px; margin: auto;  text-align: left;">Week 10 Folder Directory</h2>
  <div id="ouput" style="width: 50%; padding:30px; margin: auto;  text-align: left;"></div>

  <footer class="footer-content">
    <p>&copy; 2020 | Darrin Fry | Utah |
      <a href="https://www.byui.edu/online " target="_blank">BYUI Online Learning</a> </p>
    <script>
      const hambutton = document.querySelector(".ham");
      hambutton.addEventListener("click", toggleMenu, false);

      function toggleMenu() {
        document.querySelector(".navigation").classList.toggle("responsive");
      }
    </script>
  </footer>
</body>
</html>